<script>
  fetch('/layout.html')
    .then(r => r.text())
    .then(html => {
      document.write(html); // UI 삽입
    })
    .then(() => {
      // 중앙 컨텐츠 삽입
      document.getElementById("content").innerHTML = `
        <div class="ms-panel">
          <div class="ms-panel-header d-flex justify-content-between align-items-center">
            <h6>학생 목록</h6>
            <div>
              <button id="addStudentBtn" class="btn btn-primary">학생 추가</button>
              <button id="deleteSelectedBtn" class="btn btn-danger">선택 삭제</button>
            </div>
          </div>
          <div class="ms-panel-body">
            <table class="table table-hover" id="students-table">
              <thead>
                <tr>
                  <th><input type="checkbox" id="selectAll"></th>
                  <th>이름</th>
                  <th>담당 선생님</th>
                  <th>입학일</th>
                  <th>추천 받아봄</th>
                  <th>나이</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      `;

      // 학생 기능 JS 강제 로드
      const script = document.createElement("script");
      script.src = "/assets/js/students.js";
      script.onload = () => {
        // students.js 안에 renderStudents() 있으니까 호출
        if (typeof renderStudents === "function") {
          renderStudents();
        }
      };
      document.body.appendChild(script);
    });
</script>
